<!-- DOCTYPE HTML -->
<html>
<head>
<title>Your First React Project</title>

<style>
        .user {
            background: antiquewhite;
            font-size: 2em;
            font-family: Broadway;
        }
</style>

</head>
<body>
<div id="root"></div>

<script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.21.1/babel.min.js"></script>

<div id="root"></div>

<script type="text/babel">

window.users = [
        {
            id:1,
            name: 'A',
            followers: [2,3]
        },
        {
            id:2,
            name: 'B',
            followers: [3]
        },
        {
            id:3,
            name: 'C',
            followers: [1]
        }
    ];

/* Using ES6 destructuring to pass argument to the Followers function. And remember the argument followers are just users in turn, so they shoud have same set of properties. And in the below I am assinging a key to the <small> tag - Keys should be given to the elements inside the array to give the elements a stable identity (https://reactjs.org/docs/lists-and-keys.html#keys)
So, this function (which is also my child component of the parent component User) will return each follower.name with a <small> tag and key assigned as this particular follower's id . Remember from the above given data <users.followers> will return the array of ids

So this child component will be passed data from parent component User when I render it with the followers data from User.

And data is passed from parent to chile with this line
<Followers followers={constructFollowersFromIds(users, users.followers)} />
*/

function Followers ({ followers }) {
    return (
        <div>
        {followers.map((follower) => {
            return <small key={follower.id}>{ follower.name }</small>
        })}
        </div>
    );
}

// this function which given an array of users data and and arry of ids will only return those users whose ids match the ids given in the argument.
function constructFollowersFromIds(users, ids) {
        return users.filter( (user) => ids.includes(user.id));
    }

// Now the parent User component
function User ({ users }) {
    return (
        <div>
            { users.map((user) => {
                return <div className="user" key={user.id}>
                    {user.name}
                    <Followers followers={constructFollowersFromIds(users, user.followers)} />
                    </div>
            }) }
        </div>
    )
}

function App() {
    return (
        <User users={window.users} />
    )
}

ReactDOM.render(<App/>, document.getElementById('root'));

</script>
</body>
</html>